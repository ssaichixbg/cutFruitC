/****************************************************/
/* Monster in 1024x768x8bit VESA Mode               */
/* copyright (c) Black White, April 1, 2013.        */
/* email: iceman@zju.edu.cn                         */
/* This program is for teaching purpose only,       */
/* if you want to reference it, please keep         */
/* the above copyright information.                 */
/****************************************************/

#include <stdio.h>
#include <stdlib.h>
#include <bios.h>
#include "cutfru~1\refere~1\vesa8bit.h"

#define UP 0x4800
#define DOWN 0x5000
#define LEFT 0x4B00
#define RIGHT 0x4D00
#define ESC 0x011B
#define W 32
#define H 30
void init_monster(int x, int y, int i);
void draw_monster(int x, int y, int i);
void set_monster_palette(void);
int  get_direction(int key);
void my_delay(int t);

extern char monster_palette[256][3];
extern char monster3[30][32];
extern char monster3mask[30][4];
extern char monster2[30][32];
extern char monster2mask[30][4];
extern char monster1[30][32];
extern char monster1mask[30][4];
char (*pm[3])[32] = {monster3, monster2, monster1};
char (*pmask[3])[4] = {monster3mask, monster2mask, monster1mask};
int  mi = 0, mx = 1024/2, my = 768/2;
char old_monster[30][32];

typedef void interrupt (*FP)(void);
FP old8h;
int ticks = 0;
void interrupt int8h(void)
{
   static int count=0;
   if(ticks != 0)
      --ticks;
   count++;
   if(count<18/3)
      goto EOI;
   count = 0;
   mi++;
   if(mi >= 3)
      mi = 0;
   draw_monster(mx, my, mi);
EOI:
   (*old8h)();
}

void set_monster_palette(void)
{
   int i;
   for(i=0; i<16; i++) /* only first 16 colors in total 256 colors are needed */
   {
      outportb(0x3C8, i);
      outportb(0x3C9, monster_palette[i][0]);
      outportb(0x3C9, monster_palette[i][1]);
      outportb(0x3C9, monster_palette[i][2]);
   }
}

void init_monster(int x, int y, int i)
{
   int r, c;
   mx = x;             /* update monster's location */
   my = y;
   mi = i;
   for(r=0; r<30; r++) /* save image overridden by monster */
   {
      for(c=0; c<32; c++)
      {
         old_monster[r][c] = vesa_getpixel(mx+c, my+r);
      }
   }
}

void draw_monster(int x, int y, int i)
{
   char (*pmonster_dot)[32];
   char (*pmonster_mask)[4];
   int r, c;
   pmonster_dot = pm[i];
   pmonster_mask = pmask[i];
   for(r=0; r<30; r++) /* clear monster at old location */
   {
      for(c=0; c<32; c++)
      {
         vesa_putpixel(mx+c, my+r, old_monster[r][c]);
      }
   }
   mx = x;             /* update monster's location */
   my = y;
   mi = i;
   for(r=0; r<30; r++) /* save image overridden by monster */
   {
      for(c=0; c<32; c++)
      {
         old_monster[r][c] = vesa_getpixel(mx+c, my+r);
      }
   }
   for(r=0; r<30; r++) /* draw new monster */
   {
      for(c=0; c<32; c++)
      {
         if((pmonster_mask[r][c/8] & (1 << 7-c%8)) == 0)
            vesa_putpixel(x+c, y+r, pmonster_dot[r][c]);
      }
   }
}

int get_direction(int key)
{
   int direction[4]={LEFT, UP, RIGHT, DOWN};
   int i;
   for(i=0; i<4; i++)
   {
      if(key == direction[i])
         break;
   }
   return i;
}

void my_delay(int t)
{
   ticks = t;
   while(ticks != 0);
}

main()
{
   int tx, ty, r;
   int d[4][2]={{-1,0}, {0, -1}, {1, 0}, {0, 1}};
   set_vesa_mode_1024x768x8bit();
   display_8bit_bmp("pic256.bmp");
   old8h = getvect(8);
   setvect(8, int8h);
   randomize();
   /* set_monster_palette(); */
   init_monster(1024/2, 768/2, 0);
   draw_monster(mx, my, mi);
   do
   {
      tx = mx;
      ty = my;
      if(bioskey(1) == 0)
         r = random(4);
      else
         r = get_direction(bioskey(0));
      if(r >= 4) /* If non-direction key was pressed, */
         break;  /* then stop the game */
      tx += d[r][0]*W; /* step by W pixel */
      ty += d[r][1]*H; /* step by H pixel */
      if(tx < 0)
         tx = 0;
      if(tx > 1024 - W)
         tx = 1024 - W;
      if(ty < 0)
         ty = 0;
      if(ty > 768 - H)
         ty = 768 - H;
      draw_monster(tx, ty, mi);
      my_delay(6);
   } while(1);
   setvect(8, old8h);
   bioskey(0);
}

char monster_palette[256][3] = {
     0, 0, 0,  0, 0,32,  0,32, 0,  0,32,32 ,
    32, 0, 0, 32, 0,32, 32,32, 0, 32,32,32 ,
     0, 0,16,  0, 0,63,  0,32,16,  0,32,63 ,
    32, 0,16, 32, 0,63, 32,32,16, 32,32,32 ,
     0,16, 0,  0,16,32,  0,63, 0,  0,63,32 ,
    32,16, 0, 32,16,32, 32,63, 0, 32,63,32 ,
     0,16,16,  0,16,63,  0,63,16,  0,63,63 ,
    32,16,16, 32,16,63, 32,63,16, 32,63,63 ,
    16, 0, 0, 16, 0,32, 16,32, 0, 16,32,32 ,
    63, 0, 0, 63, 0,32, 63,32, 0, 63,32,32 ,
    16, 0,16, 16, 0,63, 16,32,16, 16,32,63 ,
    63, 0,16, 63, 0,63, 63,32,16, 63,32,63 ,
    16,16, 0, 16,16,32, 16,63, 0, 16,63,32 ,
    63,16, 0, 63,16,32, 63,63, 0, 63,63,32 ,
    16,16,16,  0, 0,63,  0,63, 0,  0,63,63 ,
    63, 0, 0, 63, 0,63, 63,63, 0, 63,63,63 ,
     0, 0, 0,  0, 0,63,  0,63, 0,  0,63,63 ,
    63, 0, 0, 63, 0,63, 63,63, 0, 48,48,48 ,
     0, 0,21,  0, 0,63,  0,42,21,  0,42,63 ,
    42, 0,21, 42, 0,63, 42,42,21, 42,42,63 ,
     0,21, 0,  0,21,42,  0,63, 0,  0,63,42 ,
    63,32, 0, 42,21,42, 42,63, 0, 42,63,42 ,
     0,21,21,  0,21,63,  0,63,21,  0,63,63 ,
    42,21,21, 42,21,63, 42,63,21, 42,63,63 ,
    21, 0, 0, 21, 0,42, 21,42, 0, 21,42,42 ,
    63, 0, 0, 63, 0,42, 63,42, 0, 63,42,42 ,
    21, 0,21, 21, 0,63, 21,42,21, 21,42,63 ,
    63, 0,21, 63, 0,63, 63,42,21, 63,42,63 ,
    21,21, 0, 21,21,42, 21,63, 0, 21,63,42 ,
    63,21, 0, 63,21,42, 63,63, 0, 63,63,42 ,
    32,32,32, 32,32,63, 32,63,32, 32,63,63 ,
    63,32,32, 63,32,63, 63,63,32, 63,63,63 ,
     0, 0, 0,  0,32, 0, 32, 0, 0, 32,16, 0 ,
     0, 0,32,  0,32,32, 32, 0,32, 32,32,32 ,
     0,16, 0,  0,63, 0, 32,16, 0, 32,63, 0 ,
     0,16,32,  0,63,32, 32,16,32, 32,32,32 ,
    16, 0, 0, 16,32, 0, 63, 0, 0, 63,32, 0 ,
    32, 0,32, 16,32,32, 63, 0,32, 63,32,32 ,
    16,16, 0, 16,63, 0, 63,16, 0, 63,63, 0 ,
    16,16,32, 16,63,32, 63,16,32, 63,63,32 ,
     0, 0,16,  0,32,16, 32, 0,16, 32,32,16 ,
     0, 0,63,  0,32,63, 32, 0,63, 32,32,63 ,
     0,16,16,  0,63,16, 32,16,16, 32,63,16 ,
     0,16,63,  0,63,63, 32,16,63, 32,63,63 ,
    16, 0,16, 16,32,16, 63, 0,16, 63,32,16 ,
    16, 0,63, 16,32,63, 63, 0,63, 63,32,63 ,
    16,16,16,  0,63, 0, 63, 0, 0, 63,63, 0 ,
     0, 0,63,  0,63,63, 63, 0,63, 63,63,63 ,
     0, 0, 0,  0,63, 0, 63, 0, 0, 63,32, 0 ,
     0, 0,63,  0,63,63, 63, 0,63, 48,48,48 ,
     0,21, 0,  0,63, 0, 42,21, 0, 42,63, 0 ,
     0,21,42,  0,63,42, 42,21,42, 42,63,42 ,
    21, 0, 0, 21,42, 0, 63, 0, 0, 63,42, 0 ,
    63, 0,63, 21,42,42, 63, 0,42, 63,42,42 ,
    21,21, 0, 21,63, 0, 63,21, 0, 63,63, 0 ,
    21,21,42, 21,63,42, 63,21,42, 63,63,42 ,
     0, 0,21,  0,42,21, 42, 0,21, 42,42,21 ,
     0, 0,63,  0,42,63, 42, 0,63, 42,42,63 ,
     0,21,21,  0,63,21, 42,21,21, 42,63,21 ,
     0,21,63,  0,63,63, 42,21,63, 42,63,63 ,
    21, 0,21, 21,42,21, 63, 0,21, 63,42,21 ,
    21, 0,63, 21,42,63, 63, 0,63, 63,42,63 ,
    32,32,32, 32,63,32, 63,32,32, 63,63,32 ,
    32,32,63, 32,63,63, 63,32,63, 63,63,63
 };

char monster3[30][32]={
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,
0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0E,
0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0F,
0x0F,0x0F,0x0E,0x0E,0x0E,0x00,0x00,0x00,
0x00,0x00,0x00,0x0E,0x0E,0x0F,0x0F,0x0F,
0x0F,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0F,0x0F,
0x0E,0x00,0x00,0x0E,0x0E,0x0A,0x0A,0x00,
0x00,0x0F,0x0F,0x0E,0x0F,0x0F,0x0E,0x00,
0x00,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0F,0x0F,0x0E,
0x00,0x00,0x00,0x00,0x0E,0x0E,0x0F,0x0F,
0x0F,0x0A,0x0E,0x0F,0x0F,0x0E,0x00,0x00,
0x00,0x00,0x0E,0x0E,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0F,0x0E,0x0E,
0x00,0x00,0x00,0x00,0x0E,0x0E,0x0A,0x0A,
0x0A,0x0A,0x0E,0x0F,0x0E,0x0E,0x00,0x00,
0x00,0x00,0x0E,0x0E,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0F,0x0E,0x0E,
0x0E,0x00,0x00,0x0E,0x06,0x0E,0x02,0x0A,
0x0A,0x0F,0x0E,0x0F,0x0E,0x0E,0x0E,0x00,
0x00,0x0E,0x06,0x0E,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0E,0x0E,0x0E,
0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0A,0x0A,
0x0A,0x0A,0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,
0x0E,0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0E,
0x0E,0x0E,0x0E,0x06,0x0E,0x0A,0x0A,0x0A,
0x0A,0x0A,0x0A,0x0E,0x0E,0x0E,0x0E,0x0E,
0x0E,0x06,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0E,
0x0E,0x06,0x0E,0x0E,0x0E,0x0A,0x0F,0x0A,
0x0A,0x02,0x0A,0x0E,0x0E,0x0E,0x0E,0x06,
0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,
0x0E,0x0E,0x0E,0x0A,0x0A,0x0A,0x0A,0x0A,
0x0A,0x0A,0x0A,0x0A,0x0A,0x0E,0x0E,0x0E,
0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x0A,0x0F,0x0A,0x0A,0x0A,0x02,0x0A,0x00,
0x00,0x0A,0x0F,0x0A,0x0A,0x0A,0x02,0x02,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x0A,0x0F,0x0A,0x0A,0x0A,0x00,0x00,
0x00,0x00,0x0A,0x0A,0x0A,0x02,0x02,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x0A,0x0A,0x0A,0x0A,0x0F,0x00,0x00,
0x00,0x00,0x02,0x0A,0x0A,0x02,0x02,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x0E,0x00,0x0A,0x0F,0x0A,0x00,0x00,0x00,
0x00,0x00,0x00,0x0A,0x02,0x02,0x00,0x0E,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,
0x0C,0x0E,0x00,0x0A,0x0F,0x00,0x00,0x00,
0x00,0x00,0x00,0x02,0x02,0x00,0x0E,0x0C,
0x0E,0x04,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0C,
0x04,0x04,0x00,0x0A,0x0F,0x0A,0x00,0x00,
0x00,0x00,0x0A,0x02,0x02,0x00,0x0E,0x0E,
0x0C,0x04,0x04,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0C,0x04,
0x04,0x00,0x00,0x00,0x0A,0x0F,0x00,0x00,
0x00,0x00,0x02,0x02,0x00,0x00,0x00,0x0E,
0x0E,0x0C,0x04,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0C,0x04,0x04,
0x00,0x00,0x00,0x00,0x0A,0x0A,0x0A,0x00,
0x00,0x0A,0x02,0x02,0x00,0x00,0x00,0x00,
0x0E,0x04,0x0C,0x04,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x0E,0x0C,0x0E,0x0C,0x04,
0x04,0x00,0x00,0x00,0x00,0x0A,0x0A,0x02,
0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x00,
0x0E,0x0C,0x04,0x0C,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x0C,0x0E,0x0C,0x04,0x0C,
0x04,0x00,0x00,0x00,0x00,0x00,0x0A,0x0A,
0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x00,
0x0C,0x0E,0x0C,0x04,0x00,0x00,0x00,0x00,
0x00,0x00,0x0E,0x0E,0x0C,0x0C,0x0C,0x04,
0x0C,0x04,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x0E,0x0C,0x04,0x0C,0x00,0x00,0x00,0x00,
0x00,0x0E,0x0E,0x0C,0x0E,0x0C,0x0C,0x0C,
0x04,0x0C,0x04,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x0C,0x0E,0x0C,0x04,0x00,0x00,0x00,0x00,
0x0E,0x0E,0x0C,0x0E,0x0C,0x0C,0x0C,0x0C,
0x0C,0x04,0x0C,0x04,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,
0x0E,0x0C,0x04,0x0C,0x04,0x00,0x00,0x00,
0x0E,0x0C,0x0E,0x0C,0x0C,0x0C,0x0C,0x0C,
0x04,0x0C,0x04,0x04,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,
0x0C,0x0E,0x0C,0x04,0x04,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x0E,0x0C,
0x0E,0x0C,0x04,0x0C,0x04,0x04,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0C,0x0E,
0x0C,0x0C,0x0C,0x04,0x0C,0x04,0x04,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0C,0x0E,0x0C,
0x0E,0x0C,0x0C,0x0C,0x04,0x0C,0x04,0x04,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0E,0x0C,0x0E,
0x0C,0x0C,0x0C,0x0C,0x0C,0x04,0x0C,0x04};
char monster3mask[30][4]={
0xFF,0xFF,0xFF,0xFF,0xFE,0x1F,0xF8,0x7F,
0xF8,0x07,0xE0,0x1F,0xF0,0x01,0x80,0x0F,
0xF0,0x00,0x00,0x0F,0xE0,0x00,0x00,0x07,
0xE0,0x00,0x00,0x07,0xE0,0x00,0x00,0x07,
0xE0,0x00,0x00,0x07,0xF0,0x00,0x00,0x0F,
0xF0,0x00,0x00,0x0F,0xF8,0x00,0x00,0x1F,
0xFE,0x00,0x00,0x7F,0xFE,0x00,0x00,0x7F,
0xFF,0x00,0x00,0xFF,0xFC,0x00,0x00,0x3F,
0xF8,0x00,0x00,0x1F,0xF0,0x00,0x00,0x0F,
0xF0,0x20,0x04,0x0F,0xE0,0x60,0x06,0x07,
0xC0,0x30,0x0E,0x07,0xC0,0x38,0x1E,0x07,
0x80,0x1C,0x3E,0x07,0x00,0x0F,0xFE,0x07,
0x00,0x07,0xFC,0x03,0x00,0x07,0xFC,0x03,
0x00,0x0F,0xF8,0x01,0xFF,0xFF,0xF0,0x00,
0xFF,0xFF,0xE0,0x00,0xFF,0xFF,0xE0,0x00};


char monster2[30][32]={
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,
0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0E,
0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0F,
0x0F,0x0F,0x0E,0x0E,0x0E,0x00,0x00,0x00,
0x00,0x00,0x00,0x0E,0x0E,0x0F,0x0F,0x0F,
0x0F,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0F,0x0F,
0x0E,0x0E,0x0E,0x0E,0x0E,0x0A,0x0A,0x00,
0x00,0x0F,0x0F,0x0E,0x0F,0x0F,0x0E,0x0E,
0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0F,0x0F,0x0E,
0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0F,0x0F,
0x0F,0x0A,0x0E,0x0F,0x0F,0x0E,0x0E,0x0E,
0x0E,0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0F,0x0E,0x0E,
0x0E,0x00,0x00,0x0E,0x0E,0x0E,0x0A,0x0A,
0x0A,0x0A,0x0E,0x0F,0x0E,0x0E,0x0E,0x00,
0x00,0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0F,0x0E,0x0E,
0x00,0x00,0x00,0x00,0x06,0x0E,0x02,0x0A,
0x0A,0x0F,0x0E,0x0F,0x0E,0x0E,0x00,0x00,
0x00,0x00,0x06,0x0E,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0E,0x0E,0x0E,
0x00,0x00,0x00,0x00,0x0E,0x0E,0x0A,0x0A,
0x0A,0x0A,0x0E,0x0E,0x0E,0x0E,0x00,0x00,
0x00,0x00,0x0E,0x0E,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0E,
0x0E,0x00,0x00,0x06,0x0E,0x0A,0x0A,0x0A,
0x0A,0x0A,0x0A,0x0E,0x0E,0x0E,0x0E,0x00,
0x00,0x06,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0E,
0x0E,0x06,0x0E,0x0E,0x0E,0x0A,0x0F,0x0A,
0x0A,0x02,0x0A,0x0E,0x0E,0x0E,0x0E,0x06,
0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,
0x0E,0x0E,0x0E,0x0A,0x0A,0x0A,0x0A,0x0A,
0x0A,0x0A,0x0A,0x0A,0x0A,0x0E,0x0E,0x0E,
0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x0A,0x0F,0x0A,0x0A,0x0A,0x02,0x0A,0x0A,
0x0A,0x0A,0x0F,0x0A,0x0A,0x0A,0x02,0x02,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x0A,0x0F,0x0A,0x0A,0x0A,0x0A,0x0A,
0x0A,0x0A,0x0A,0x0A,0x0A,0x02,0x02,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x0A,0x0A,0x0A,0x0A,0x0F,0x00,0x00,
0x00,0x00,0x02,0x0A,0x0A,0x02,0x02,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x0E,0x00,0x0A,0x0F,0x0A,0x00,0x00,0x00,
0x00,0x00,0x00,0x0A,0x02,0x02,0x00,0x0E,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,
0x0C,0x0E,0x00,0x0A,0x0F,0x00,0x00,0x00,
0x00,0x00,0x00,0x02,0x02,0x00,0x0E,0x0C,
0x0E,0x04,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0C,
0x04,0x04,0x00,0x0A,0x0F,0x0A,0x00,0x00,
0x00,0x00,0x0A,0x02,0x02,0x00,0x0E,0x0E,
0x0C,0x04,0x04,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0C,0x04,
0x04,0x00,0x00,0x00,0x0A,0x0F,0x0A,0x02,
0x0A,0x0A,0x02,0x02,0x00,0x00,0x00,0x0E,
0x0E,0x0C,0x04,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0C,0x04,0x04,
0x00,0x00,0x00,0x00,0x0A,0x0A,0x0A,0x0A,
0x0A,0x0A,0x02,0x02,0x00,0x00,0x00,0x00,
0x0E,0x04,0x0C,0x04,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0E,0x0C,0x04,
0x00,0x00,0x00,0x00,0x00,0x0A,0x0A,0x02,
0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x00,
0x0E,0x0C,0x04,0x0C,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0C,0x04,0x04,
0x00,0x00,0x00,0x00,0x00,0x00,0x0A,0x0A,
0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x00,
0x0C,0x0E,0x0C,0x04,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x0E,0x0C,0x0E,0x0C,0x04,
0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0C,
0x0E,0x0C,0x04,0x0C,0x04,0x00,0x00,0x00,
0x00,0x00,0x00,0x0E,0x0E,0x0C,0x04,0x0C,
0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,
0x0C,0x0C,0x0C,0x04,0x0C,0x00,0x00,0x00,
0x00,0x00,0x0E,0x0E,0x0C,0x0E,0x0C,0x04,
0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x0E,0x0C,
0x0E,0x0C,0x0C,0x0C,0x04,0x0C,0x00,0x00,
0x00,0x0E,0x0E,0x0C,0x0E,0x0C,0x04,0x0C,
0x04,0x04,0x04,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0C,0x0E,
0x0C,0x0C,0x0C,0x0C,0x0C,0x04,0x0C,0x00,
0x0E,0x0E,0x0E,0x0E,0x0C,0x0C,0x0C,0x04,
0x0C,0x04,0x04,0x04,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0C,0x0E,0x0C,
0x0C,0x0C,0x0C,0x0C,0x04,0x0C,0x04,0x04,
0x0E,0x0E,0x0E,0x0C,0x0E,0x0C,0x0C,0x0C,
0x04,0x0C,0x04,0x04,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0E,0x0C,0x0E,
0x0C,0x0C,0x0C,0x0C,0x0C,0x04,0x0C,0x04,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};
char monster2mask[30][4]={
0xFF,0xFF,0xFF,0xFF,0xFE,0x1F,0xF8,0x7F,
0xF8,0x07,0xE0,0x1F,0xF0,0x01,0x80,0x0F,
0xF0,0x00,0x00,0x0F,0xE0,0x00,0x00,0x07,
0xE0,0x00,0x00,0x07,0xE0,0x00,0x00,0x07,
0xE0,0x00,0x00,0x07,0xF0,0x00,0x00,0x0F,
0xF0,0x00,0x00,0x0F,0xF8,0x00,0x00,0x1F,
0xFE,0x00,0x00,0x7F,0xFE,0x00,0x00,0x7F,
0xFF,0x00,0x00,0xFF,0xFC,0x00,0x00,0x3F,
0xF8,0x00,0x00,0x1F,0xF0,0x00,0x00,0x0F,
0xF0,0x00,0x00,0x0F,0xE0,0x60,0x06,0x07,
0xE0,0x70,0x0E,0x07,0xE0,0x78,0x1E,0x07,
0xC0,0x3C,0x3C,0x03,0xC0,0x3F,0xFC,0x03,
0x80,0x1F,0xF8,0x01,0x00,0x0F,0xF0,0x00,
0x00,0x07,0xE0,0x00,0x00,0x07,0xE0,0x00,
0x00,0x0F,0xF0,0x00,0xFF,0xFF,0xFF,0xFF};


char monster1[30][32]={
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,
0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0E,
0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0F,
0x0F,0x0F,0x0E,0x0E,0x0E,0x00,0x00,0x00,
0x00,0x00,0x00,0x0E,0x0E,0x0F,0x0F,0x0F,
0x0F,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0F,0x0F,
0x0E,0x0E,0x0E,0x0E,0x0E,0x0A,0x0A,0x00,
0x00,0x0F,0x0F,0x0E,0x0F,0x0F,0x0E,0x0E,
0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0F,0x0F,0x0E,
0x0E,0x0E,0x0E,0x0E,0x0E,0x0E,0x0F,0x0F,
0x0F,0x0A,0x0E,0x0F,0x0F,0x0E,0x0E,0x0E,
0x0E,0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0F,0x0E,0x00,
0x00,0x0E,0x0E,0x0E,0x0E,0x0E,0x0A,0x0A,
0x0A,0x0A,0x0E,0x0F,0x0E,0x00,0x00,0x0E,
0x0E,0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0F,0x00,0x00,
0x00,0x00,0x0E,0x0E,0x06,0x0E,0x02,0x0A,
0x0A,0x0F,0x0E,0x0F,0x00,0x00,0x00,0x00,
0x0E,0x0E,0x06,0x0E,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0E,0x00,0x00,
0x00,0x00,0x0E,0x0E,0x0E,0x0E,0x0A,0x0A,
0x0A,0x0A,0x0E,0x0E,0x00,0x00,0x00,0x00,
0x0E,0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x00,
0x00,0x0E,0x0E,0x06,0x0E,0x0A,0x0A,0x0A,
0x0A,0x0A,0x0A,0x0E,0x0E,0x00,0x00,0x0E,
0x0E,0x06,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0E,
0x0E,0x06,0x0E,0x0E,0x0E,0x0A,0x0F,0x0A,
0x0A,0x02,0x0A,0x0E,0x0E,0x0E,0x0E,0x06,
0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,
0x0E,0x0E,0x0E,0x0A,0x0A,0x0A,0x0A,0x0A,
0x0A,0x0A,0x0A,0x0A,0x0A,0x0E,0x0E,0x0E,
0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x0A,0x0F,0x0A,0x0A,0x0A,0x02,0x0A,0x0A,
0x0A,0x0A,0x0F,0x0A,0x0A,0x0A,0x02,0x02,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x0A,0x0F,0x0A,0x0A,0x0A,0x0A,0x0A,
0x0A,0x0A,0x0A,0x0A,0x0A,0x02,0x02,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x0A,0x0A,0x0A,0x0A,0x0F,0x0A,0x0A,
0x0A,0x0A,0x02,0x0A,0x0A,0x02,0x02,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x0E,0x00,0x0A,0x0F,0x0A,0x0A,0x00,0x00,
0x00,0x00,0x0A,0x0A,0x02,0x02,0x00,0x0E,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,
0x0C,0x0E,0x00,0x0A,0x0F,0x0A,0x00,0x00,
0x00,0x00,0x0A,0x02,0x02,0x00,0x0E,0x0C,
0x0E,0x04,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0C,
0x04,0x04,0x00,0x0A,0x0F,0x0A,0x0A,0x0A,
0x0A,0x0A,0x0A,0x02,0x02,0x00,0x0E,0x0E,
0x0C,0x04,0x04,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0C,0x04,
0x04,0x00,0x00,0x00,0x0A,0x0F,0x0A,0x02,
0x0A,0x0A,0x02,0x02,0x00,0x00,0x00,0x0E,
0x0E,0x0C,0x04,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0C,0x04,0x04,
0x00,0x00,0x00,0x00,0x0A,0x0A,0x0A,0x0A,
0x0A,0x0A,0x02,0x02,0x00,0x00,0x00,0x00,
0x0E,0x04,0x0C,0x04,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0E,0x0C,0x04,
0x00,0x00,0x00,0x00,0x00,0x0A,0x0A,0x02,
0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x0E,
0x0E,0x0C,0x04,0x0C,0x04,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0C,0x04,0x04,
0x00,0x00,0x00,0x00,0x00,0x00,0x0A,0x0A,
0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x0E,
0x0C,0x0E,0x0C,0x04,0x04,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0C,0x0E,0x0C,0x04,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x0E,0x0C,
0x0E,0x0C,0x04,0x0C,0x04,0x04,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0C,0x04,0x0C,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x0E,0x0C,0x0E,
0x0C,0x0C,0x0C,0x04,0x0C,0x04,0x04,0x00,
0x00,0x00,0x00,0x0E,0x0C,0x0E,0x0C,0x04,
0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0C,0x0E,0x0C,
0x0E,0x0C,0x0C,0x0C,0x04,0x0C,0x04,0x04,
0x00,0x00,0x00,0x0C,0x0E,0x0C,0x04,0x0C,
0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x0E,0x0E,0x0C,0x0E,
0x0C,0x0C,0x0C,0x0C,0x0C,0x04,0x0C,0x04,
0x00,0x00,0x0E,0x0E,0x0C,0x0C,0x0C,0x04,
0x0C,0x04,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x0E,0x0E,0x0C,0x0E,0x0C,0x0C,0x0C,
0x04,0x0C,0x04,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x0E,0x0E,0x0C,0x0E,0x0C,0x0C,0x0C,0x0C,
0x0C,0x04,0x0C,0x04,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x0E,0x0C,0x0E,0x0C,0x0C,0x0C,0x0C,0x0C,
0x04,0x0C,0x04,0x04,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};
char monster1mask[30][4]={
0xFF,0xFF,0xFF,0xFF,0xFE,0x1F,0xF8,0x7F,
0xF8,0x07,0xE0,0x1F,0xF0,0x01,0x80,0x0F,
0xF0,0x00,0x00,0x0F,0xE0,0x00,0x00,0x07,
0xE0,0x00,0x00,0x07,0xE0,0x00,0x00,0x07,
0xE0,0x00,0x00,0x07,0xF0,0x00,0x00,0x0F,
0xF0,0x00,0x00,0x0F,0xF8,0x00,0x00,0x1F,
0xFE,0x00,0x00,0x7F,0xFF,0x00,0x00,0xFF,
0xFF,0x00,0x00,0xFF,0xFC,0x00,0x00,0x3F,
0xF8,0x00,0x00,0x1F,0xF0,0x00,0x00,0x0F,
0xF0,0x20,0x04,0x0F,0xE0,0x60,0x06,0x07,
0xE0,0x70,0x0C,0x03,0xE0,0x78,0x1C,0x03,
0xE0,0x7C,0x38,0x01,0xE0,0x7F,0xF0,0x00,
0xC0,0x3F,0xE0,0x00,0xC0,0x3F,0xE0,0x00,
0x80,0x1F,0xF0,0x00,0x00,0x0F,0xFF,0xFF,
0x00,0x07,0xFF,0xFF,0x00,0x07,0xFF,0xFF};